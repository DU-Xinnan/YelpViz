webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(59),r=n(i),o=a(137),s=n(o);new r.default({el:"#app",template:"<App/>",components:{App:s.default}})},,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(38),r=n(i),o=a(89),s=n(o),l=a(90),u=n(l),d=null,c=function(){function t(){return(0,s.default)(this,t),d||(d=this),this.data=void 0,d}return(0,u.default)(t,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"genSubspaceData",value:function(t){var e={};return e.attributeTable=this.data.attributeTable.filter(function(e){return t.has(e.name)}),e.pointTable=this.data.pointTable.map(function(e){return(0,r.default)(e).filter(function(e){return t.has(e)}).reduce(function(t,a){var n=t;return n[a]=e[a],t},{})}),e}}]),t}(),f=new c;e.default=f},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(59),r=n(i),o=new r.default({data:{DATA_CHANGE:"data-change",SUBATTRIBUTE_UPDATE:"subattribute-update"}});e.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,a,n){var i=void 0;a===d?i=l.default.get:a===c&&(i=l.default.post),i(t,e).then(function(t){200===t.status?n(t):console.error(t)}).catch(function(t){console.error(t)})}function r(t){var e=u+"/data_list";i(e,{},d,t)}function o(t,e){var a=u+"/data/"+t,n={};i(a,n,d,e)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(60),l=n(s),u="http://localhost:5000/api",d="get",c="post";e.default={getDataList:r,getData:o}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,a){var n=0;if("ordinal"===a.type&&t!==e)switch(a.order){case"ascending":n=t<e?1:-1;break;case"descending":n=t>e?1:-1;break;default:n=t>e?1:-1}return n}function r(t,e,a){var n=!1,r=!1;return(0,h.default)(t).forEach(function(o){var s=t[o],l=e[o];1===i(s,l,a.get(o))&&(n=!0),i(s,l,a.get(o))===-1&&(r=!0)}),n&&!r?1:!n&&r?-1:0}function o(t,e){var a=new v.default;return t.forEach(function(t){var n=!0;a.forEach(function(i){var o=r(t,i,e);1===o&&a.delete(i),o===-1&&(n=!1)}),n&&a.add(t)}),(0,c.default)(a)}function s(t){var e=new u.default;if(0!==t.length){var a=t[0];(0,h.default)(a).forEach(function(t){var a={};a.name=t,a.type="ordinal",a.order="ascending",e.set(t,a)})}return e}Object.defineProperty(e,"__esModule",{value:!0});var l=a(15),u=n(l),d=a(37),c=n(d),f=a(88),v=n(f),p=a(38),h=n(p);e.default={genSkylinePoints:o,genDefaultOrdinalAttributeTable:s}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),a(128);var i=a(141),r=n(i),o=a(139),s=n(o),l=a(143),u=n(l);e.default={name:"App",components:{Navbar:r.default,ControlPanel:s.default,PointView:u.default},data:function(){return{setting:{width:0,height:0}}},mounted:function(){this.$nextTick(function(){this.initialize()})},methods:{initialize:function(){var t=this;this.setting.height=window.innerHeight-document.querySelector(".navbar").clientHeight,this.setting.width=window.innerWidth,window.addEventListener("resize",function(){t.setting.height=window.innerHeight-document.querySelector(".navbar").clientHeight,t.setting.width=window.innerWidth})}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(15),r=n(i),o=a(21),s=n(o),l=a(20),u=n(l);e.default={name:"AttrList",mounted:function(){var t=this;s.default.$on(s.default.DATA_CHANGE,function(){t.attributeTable=u.default.getData().attributeTable})},data:function(){return{attributeTable:[]}},props:{setting:Object},methods:{selectAttr:function(t){var e=t;e.selected?this.$set(e,"selected",!1):this.$set(e,"selected",!0)},selectAllAttr:function(){var t=this;this.attributeTable.forEach(function(e){return t.$set(e,"selected",!0)})},deselectAllAttr:function(){var t=this;this.attributeTable.forEach(function(e){return t.$set(e,"selected",!1)})},subattributeUpdate:function(){var t=new r.default;this.attributeTable.forEach(function(e){e.selected&&t.set(e.name,e)}),s.default.$emit(s.default.SUBATTRIBUTE_UPDATE,t)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),a(129);var i=a(140),r=n(i),o=a(138),s=n(o);e.default={name:"ControlPanel",mounted:function(){},data:function(){return{}},components:{DataLoader:r.default,AttrList:s.default},props:{setting:Object}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(78),r=n(i),o=a(21),s=n(o),l=a(20),u=n(l);e.default={name:"DataLoader",mounted:function(){var t=this;r.default.getDataList(function(e){t.dataList=e.data})},data:function(){return{selectedDataName:"",dataList:[]}},watch:{selectedDataName:function(t){r.default.getData(t,function(t){u.default.setData(t.data),s.default.$emit(s.default.DATA_CHANGE)})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Navbar",data:function(){return{}}}},function(t,e,a){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(15),o=i(r),s=a(58),l=n(s),u=a(127),d=i(u);l.tip=d.default,e.default={name:"PointViewVis",data:function(){return{data:[],selectedAttrMap:void 0,canvasWidth:0,DEFAULT_COLUMN_HEIGHT:20,DEFAULT_COLUMN_GAP:2,MAX_COLUMN_WIDTH:100,TABLE_FILLED_COLOR:"#ededed"}},props:{pointData:{attributeTable:Array,pointTable:Array}},mounted:function(){this.$nextTick(function(){this.initialize()})},watch:{pointData:function(t){this.setData(t),this.adjustCanvasSize(),this.drawPointView()}},methods:{initialize:function(){var t=this;window.addEventListener("resize",function(){t.adjustCanvasSize()})},setData:function(t){var e=this;this.data=t,this.selectedAttrMap=new o.default,this.data.attributeTable.forEach(function(t){e.selectedAttrMap.set(t.name,"true")})},adjustCanvasSize:function(){var t=document.querySelector("#point-view-container").clientWidth;this.canvasWidth=t,this.setCanvasWidth(this.$refs.canvas,this.canvasWidth)},initializeCanvas:function(){var t=this.$refs.canvas,e=(this.data.pointTable.length+1)*this.DEFAULT_COLUMN_HEIGHT,a=l.select(t),n=a.select("svg");return n.empty()||n.remove(),n=a.append("svg").attr("width",this.canvasWidth).attr("height",e)},sortData:function(t){console.log(t);var e=this.pointData.pointTable,a=t;t.sorted||(a.sorted=1),a.sorted*=-1,this.pointData.pointTable=e.sort(function(e,n){return e[t.name]>n[t.name]?-1*a.sorted:e[t.name]<n[t.name]?1*a.sorted:0}),console.log(this.pointData.pointTable)},drawBackgroundTable:function(t){var e=this,a=this.selectedAttrMap.size,n=this.canvasWidth/a-this.DEFAULT_COLUMN_GAP;n=Math.min(n,this.MAX_COLUMN_WIDTH);var i=t.append("g").attr("class","point-view-table-head"),r=this.data.attributeTable.filter(function(t){return e.selectedAttrMap.has(t.name)});i.selectAll(".point-viewtable-head-cell").data(r).enter().append("rect").attr("class","point-view-table-head-cell").attr("width",n).attr("height",this.DEFAULT_COLUMN_HEIGHT).attr("x",function(t,a){return a*(n+e.DEFAULT_COLUMN_GAP)}).attr("y",0).attr("fill",this.TABLE_FILLED_COLOR).on("click",function(t){e.sortData(t)}),this.data.pointTable.forEach(function(a,i){var o=t.append("g").attr("class","point-view-table-body");o.selectAll(".point-view-table-body-cell").data(r).enter().append("rect").attr("class","point-view-table-body-cell").attr("width",n).attr("height",e.DEFAULT_COLUMN_HEIGHT).attr("x",function(t,a){return a*(n+e.DEFAULT_COLUMN_GAP)}).attr("y",function(){return(i+1)*e.DEFAULT_COLUMN_HEIGHT}).attr("fill",function(){return i%2===0?"#ffffff":e.TABLE_FILLED_COLOR})})},drawTableData:function(t){var e=this,a=l.tip().attr("class","d3-tip").html(function(t){return'<div class="d3-tip">'+t.name+": "+t.value+"</div>"});t.call(a);var n=this.selectedAttrMap.size,i=this.canvasWidth/n-this.DEFAULT_COLUMN_GAP;i=Math.min(i,this.MAX_COLUMN_WIDTH);var r=this.data.attributeTable.filter(function(t){return e.selectedAttrMap.has(t.name)}),o=t.append("g").attr("class","point-view-data-head");o.selectAll(".point-view-data-head-value").data(r).enter().append("text").text(function(t){return t.name}).attr("class","point-view-data-head-value").attr("text-anchor","middle").attr("alignment-baseline","central").attr("x",function(t,a){return a*(i+e.DEFAULT_COLUMN_GAP)+i/2}).attr("y",this.DEFAULT_COLUMN_HEIGHT/2),this.data.pointTable.forEach(function(n,o){var s=t.append("g").attr("class","point-view-data-body");r.forEach(function(t,r){"nominal"===t.type?s.append("text").text(n[t.name]).attr("class","point-view-data-body-value").attr("text-anchor","middle").attr("alignment-baseline","central").attr("x",r*(i+e.DEFAULT_COLUMN_GAP)+i/2).attr("y",(o+1.5)*e.DEFAULT_COLUMN_HEIGHT):"ordinal"===t.type&&s.append("rect").attr("class","point-view-data-body-value").attr("width",n[t.name]/t.maxValue*i).attr("height",e.DEFAULT_COLUMN_HEIGHT-4).attr("x",r*(i+e.DEFAULT_COLUMN_GAP)).attr("y",function(){return(o+1)*e.DEFAULT_COLUMN_HEIGHT+2}).attr("fill","steelblue").on("mouseover",function(){l.select(this).attr("fill","#B0171F");var e={};e.name=t.name,e.value=n[t.name],a.show(e)}).on("mouseout",function(){l.select(this).attr("fill","steelblue"),a.hide()})})})},drawPointView:function(){var t=this.initializeCanvas();this.drawBackgroundTable(t),this.drawTableData(t)},setCanvasWidth:function(t,e){var a=l.select(t),n=a.select("svg");n.empty()||n.attr("width",e)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(15),r=n(i),o=a(37),s=n(o),l=a(142),u=n(l),d=a(20),c=n(d),f=a(21),v=n(f),p=a(79),h=n(p);e.default={name:"PointView",data:function(){return{fullData:null,skylineData:null,pointView:"full-point"}},mounted:function(){var t=this;v.default.$on(v.default.SUBATTRIBUTE_UPDATE,function(e){var a=e,n=c.default.genSubspaceData(a),i=h.default.genSkylinePoints(n.pointTable,a),r={};r.pointTable=i,r.attributeTable=(0,s.default)(a.values()),t.skylineData=r}),v.default.$on(v.default.DATA_CHANGE,function(){var e=c.default.getData();t.fullData=e;var a=new r.default;e.attributeTable.forEach(function(t){a.set(t.name,t)}),t.skylineData={pointTable:h.default.genSkylinePoints(e.pointTable,a),attributeTable:e.attributeTable}})},components:{PointViewVis:u.default}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,a){var n,i;a(135),n=a(80);var r=a(149);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=n},function(t,e,a){var n,i;a(132),n=a(81);var r=a(146);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,i._scopeId="data-v-5558e93a",t.exports=n},function(t,e,a){var n,i;n=a(82);var r=a(150);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=n},function(t,e,a){var n,i;a(133),n=a(83);var r=a(147);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,i._scopeId="data-v-64f7c1d6",t.exports=n},function(t,e,a){var n,i;a(130),n=a(84);var r=a(144);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,i._scopeId="data-v-0e458e64",t.exports=n},function(t,e,a){var n,i;a(131),n=a(85);var r=a(145);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=n},function(t,e,a){var n,i;a(134),n=a(86);var r=a(148);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,i._scopeId="data-v-684d05ea",t.exports=n},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark bg-inverse"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Skyline Visualization")]),t._v(" "),a("ul",{staticClass:"nav navbar-nav float-xs-right"},[a("li",[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("About")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"canvas",attrs:{id:"point-view-canvas"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-section",attrs:{id:"attr-list"}},[a("div",{staticClass:"control-section-head"},[a("h1",{staticClass:"control-section-title"},[t._v("Attribute Table")]),t._v(" "),t.attributeTable.length>0?a("button",{staticClass:"btn btn-outline-primary btn-sm\n            control-btn",attrs:{type:"button"},on:{click:t.subattributeUpdate}},[t._v("Update Skyline")]):t._e()]),t._v(" "),t.attributeTable.length>0?a("div",{style:{"max-height":.57*t.setting.height+"px"},attrs:{id:"table-view"}},[a("table",[a("thead",[a("tr",{on:{click:function(e){t.selectAllAttr()},dblclick:function(e){t.deselectAllAttr()}}},[a("th",[t._v("Attribute Name")]),t._v(" "),a("th",[t._v("Attribute Type")])])]),t._v(" "),a("tbody",t._l(t.attributeTable,function(e){return a("tr",{class:{selected:e.selected},on:{click:function(a){t.selectAttr(e)}}},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.type))])])}))])]):a("div",[t._v("\n        No data loaded.\n    ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-section",attrs:{id:"data-loader"}},[a("h1",{staticClass:"control-panel-label"},[t._v("Load Data: ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDataName,expression:"selectedDataName"}],staticClass:"custom-select skyline-select",attrs:{id:"data-loader-selector"},on:{change:function(e){t.selectedDataName=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},t._l(t.dataList,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"point-view-container"}},[a("div",{attrs:{id:"point-view-head"}},[a("h1",{attrs:{id:"point-view-head-title"}},[t._v("Point View")]),t._v(" "),a("div",{staticClass:"radio-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pointView,expression:"pointView"}],attrs:{type:"radio",id:"full-point-view-radio",value:"full-point",name:"point-view-radio"},domProps:{value:"full-point",checked:t._q(t.pointView,"full-point")},on:{change:function(e){t.pointView="full-point"}}}),t._v(" "),a("label",{attrs:{for:"full-point-view-radio"}},[t._v("All Data")])]),t._v(" "),a("div",{staticClass:"radio-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pointView,expression:"pointView"}],attrs:{type:"radio",id:"skyline-point-view-radio",value:"skyline-point",name:"point-view-radio"},domProps:{value:"skyline-point",checked:t._q(t.pointView,"skyline-point")},on:{change:function(e){t.pointView="skyline-point"}}}),t._v(" "),a("label",{attrs:{for:"skyline-point-view-radio"}},[t._v("Skyline Data")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.fullData,expression:"fullData != null"}],staticStyle:{height:"94%"}},[a("point-view-vis",{directives:[{name:"show",rawName:"v-show",value:"full-point"===t.pointView,expression:"pointView === 'full-point'"}],attrs:{id:"full-point-view-vis","point-data":t.fullData}}),t._v(" "),a("point-view-vis",{directives:[{name:"show",rawName:"v-show",value:"skyline-point"===t.pointView,expression:"pointView === 'skyline-point'"}],attrs:{id:"skyline-point-view-vis","point-data":t.skylineData}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:null===t.fullData,expression:"fullData === null"}]},[t._v("\n        No data loaded.\n    ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),t._v(" "),a("div",{staticClass:"row",staticStyle:{margin:"0"},style:{width:t.setting.width+"px",height:t.setting.height+"px"}},[a("control-panel",{attrs:{setting:t.setting}}),t._v(" "),a("div",{staticClass:"col-xs-10",staticStyle:{height:"100%",padding:"0"}},[a("div",{staticStyle:{height:"69%","border-bottom":"1px solid rgba(0, 0, 0, 0.4)"},attrs:{id:"main-view"}}),t._v(" "),a("point-view")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xs-2",attrs:{id:"control-panel"}},[a("data-loader"),t._v(" "),a("attr-list",{attrs:{setting:t.setting}})],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.1b809c1b52b834ae7f7d.js.map